<div class="formLayout">
	<%= form_for @candidate  , :html => { :multipart => true } do |f| %>
	<% if @candidate.errors.any? ||  @contactinfo.errors.any? %>
	<div id="error_explanation">
		<h2><%= pluralize(@candidate.errors.count+@contactinfo.errors.count, "error") %> prohibited this candidate from being saved:</h2>

		<ul>
			<% @candidate.errors.full_messages.each do |msg| %>
			<li>
				<%= msg %>
			</li>
			<% end %>
			<% @contactinfo.errors.full_messages.each do |msg| %>
			<li>
				<%= msg %>
			</li>
			<% end %>
		</ul>
	</div>
	<% end %>

	<label for="candidate_first_name">
		First Name:
	</label>
	<%= text_field 'candidate', 'first_name' %></p>
	<br clear="left">
	<label for="candidate_last_name">
		Last Name:
	</label>
	<%= text_field 'candidate', 'last_name' %></p>
	<br clear="left">
	<%= f.label :date_of_birth %>
	<%= f.text_field :date_of_birth %>
	<br clear="left">
	<%= label :contactinfo, :address1 %>
	<%= text_field :contactinfo, :address1 %>
	<br clear="left">
	<%= label :contactinfo, :address2 %>
	<%= text_field :contactinfo, :address2 %>
	<br clear="left">
	<%= label :contactinfo, :address3 %>
	<%= text_field :contactinfo, :address3 %>
	<br clear="left">
	<%= label :contactinfo, :state %></label>

	<%= collection_select(:contactinfo, :state, @states, :id, :name,
	{:prompt   => "Select a state"},
	{:onchange => "#{remote_function(:url  => '/my_cities_list',:with => "'state_id='+value")}"}) %>
	<br clear="left">
	<%= label :contactinfo, :city %></label>

	<%= render :partial => 'cities',   :object => @cities %>
	<br clear="left">

	<%= label :contactinfo, :pin %>

	<%= text_field :contactinfo, :zip %>
	<br clear="left">
	<%= label :contactinfo,:email %>

	<%= text_field :contactinfo,:email %>
	<br clear="left">
	<%= label :contactinfo,:alternate_email %>

	<%= text_field :contactinfo,:alternate_email %>
	<br clear="left">
	<%= label :contactinfo,:contact_number %>

	<%= text_field :contactinfo,:contact_number %>
	<br clear="left">
	<label for="candidate_qualification">
		Qualification:
	</label>

	<%= select_tag "candidate[qualification]",options_for_select(["Under Graguate","Post Graduate"]), {:multiple => true}%>
	<br clear="left">
	<label for="candidate_experience">
		Experience:
	</label>

	<%= select_tag "candidate[experience]",options_for_select(["0-1","1-3","4-6","7-10"])%>
	<br clear="left">
	<label for="candidate_expected_salary">
		Expected Salary:
	</label>

	<%= select_tag "candidate[expected_salary]",options_for_select(["10,000-30,000","40,000-70,000","75,000-100,000"])%>
	<br clear="left">
	<%= f.label :skill_set %>

	<%= select_tag 'candidate[skillset_ids][]',options_from_collection_for_select(@skillsets, :id, :name,@candidate.skillsets.collect{|skillset| skillset.id}),{ :multiple => true}%>
	<br clear="left">
	<%= f.label :resume%>

	<%= f.file_field :resume %>
	<br clear="left">
</div>
<br>
<div class="actions">
	<%= f.submit %>
</div>

<% end %>
<script>$( function () {
		$('#candidate_date_of_birth').datepicker();
	});</script>

</html>
